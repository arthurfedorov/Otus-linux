# Автоматизация администрирования. Ansible

## TO-DO

- ~~Создать playbook на разворот nginx на 8080 порту с помощью jinja2 template~~

- Переписать на Ansible roles

## Домашнее задание

Подготовить стенд на Vagrant как минимум с одним сервером. На этом сервере используя Ansible необходимо развернуть nginx со следующими условиями:

- необходимо использовать модуль yum/apt
- конфигурационные файлы должны быть взяты из шаблона jinja2 с перемененными
- после установки nginx должен быть в режиме enabled в systemd
- должен быть использован notify для старта nginx после установки
- сайт должен слушать на нестандартном порту - 8080, для этого использовать переменные в Ansible
- задание со * cделать все это с использованием Ansible роли

***

## Выполнение домашнего задания

При выполении дз, следовал методичке, параллельно читаю книгу Ansible - Up & Running. Понял что надо было раньше это делать.
Ансиблял с хостовой машины, так как не смог завести ansible на vagrant и провижинить с нее другие машины.
Для проверки стенда, необходимо скопировать к себе репо и по традиции сделать:

```bash
vagrant up
```

После того как, как playbook отработает, на хосте надо перейти по адресу <http://localhost:8081> - сам nginx внутри машины поднят на 8080 порту, но так как обычно пробрасываю 80-ый порт на 8080, поэтому 8080, который используется для nginx пробросил на 8081 на хостовой машине.

Проверить можно также, зайдя на поднятую машину и **curl localhost:8080**
